package com.abc.rule.people.ipm

import java.util.Date;
import cho.carbon.fuse.improve.attribute.FuseAttributeFactory;
import cho.carbon.rrc.record.FGAttribute;
import cho.carbon.meta.enun.AttributeValueType;
import cho.carbon.fuse.improve.attribute.FuseAttribute;
import cho.carbon.ops.builder.RecordRelationOpsBuilder;
import cho.carbon.ops.builder.RecordRelationOpsBuilder;
import cho.carbon.sysdate.SystemDateTimeManager;
import cho.carbon.rrc.builder.FGRootRecordBuilder;
import cho.carbon.rrc.record.FGRootRecord;
import cho.carbon.fuse.improve.attribute.leaf.FuseLeafAttribute;
import cho.carbon.biz.constant.item.DXJDE2020Item;
import cho.carbon.biz.constant.EnumKeyValue;


global java.lang.String hostCode; 
global java.lang.String hostType;

global java.lang.String userCode;
global java.lang.String recordCode;
global java.lang.String recordName;

global java.util.List recordRelationOpsBuilderNew;
global java.util.List rootRecordList;
global java.util.List attributeList;
global java.util.List addedLeafAttrList;
global java.util.Map removedLeafAttrMap;
global cho.carbon.rrc.record.FGRootRecord fgRootRecord;
global cho.carbon.ops.builder.RecordRelationOpsBuilder recordRelationOpsBuilder;
global cho.carbon.complexus.FGRecordComplexus recordComplexus;

//只要残疾信息有值， 就执行， 不去判断是否之前有
rule "残疾信息有值设置【身份类别】为残疾"
	salience 10 
when
	exists FuseLeafAttribute(name==DXJDE2020Item.残疾信息_残疾类别)
then 
	// 多选枚举赋值
	FGAttribute attr = FuseAttributeFactory.buildAttribute(DXJDE2020Item.基本信息_身份类别, EnumKeyValue.ENUM_身份类别_残疾人);
	attributeList.add(attr);	
end
